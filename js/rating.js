const _0xa44f27=_0x437d,_0x1c8c5e=_0x437d;(function(_0x3ba2b0,_0x22f896){const _0x31e57e=_0x437d,_0x5d4c8c=_0x437d,_0x24117f=_0x3ba2b0();while(!![]){try{const _0xf1a1f1=-parseInt(_0x31e57e(0x1b3))/0x1*(parseInt(_0x31e57e(0x1b7))/0x2)+-parseInt(_0x31e57e(0x1d2))/0x3*(parseInt(_0x5d4c8c(0x1be))/0x4)+parseInt(_0x5d4c8c(0x1a6))/0x5+parseInt(_0x31e57e(0x1da))/0x6*(-parseInt(_0x5d4c8c(0x1af))/0x7)+parseInt(_0x5d4c8c(0x19e))/0x8+-parseInt(_0x31e57e(0x1b6))/0x9+-parseInt(_0x31e57e(0x19f))/0xa*(-parseInt(_0x31e57e(0x1bd))/0xb);if(_0xf1a1f1===_0x22f896)break;else _0x24117f['push'](_0x24117f['shift']());}catch(_0x4ccca6){_0x24117f['push'](_0x24117f['shift']());}}}(_0x3e9a,0x55ccb));const firebaseConfig={'apiKey':_0xa44f27(0x1bc),'authDomain':'the-sihina-seyawi-project.firebaseapp.com','databaseURL':'https://the-sihina-seyawi-project-default-rtdb.firebaseio.com','projectId':'the-sihina-seyawi-project','storageBucket':_0xa44f27(0x1d1),'messagingSenderId':_0xa44f27(0x1e6),'appId':_0x1c8c5e(0x198),'measurementId':_0x1c8c5e(0x18d)};firebase['initializeApp'](firebaseConfig);function _0x3e9a(){const _0x2b8278=['keys','user_','disabled','totalRatings','value','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20mr-1\x22>','Error\x20submitting\x20rating.\x20Please\x20try\x20again.','mouseout','set','473435841868','generateRatingStars','innerHTML','target','once','setNovelId','Submitting...','/stats','val','getElementById','<i\x20class=\x22fas\x20fa-star-half-alt\x20text-yellow-400\x22></i>','toString','handleStarClick','Error\x20loading\x20ratings:','G-PSZ81Z66EY','querySelectorAll','previousRating','ratings/','ratingMessage','fas','add','addEventListener','textContent','Update\x20Rating','database','1:473435841868:web:0595fdf540ab758c9c5be9','bind','submitRating','error','getItem','sumRatings','90800wjURzv','115340xoPLVi','getUserId','rating-container\x20mb-6','isUpdate','setItem','novelId','Rating\x20submitted\x20successfully!','2245870tDaEzo','substring','ref','click','rating','mouseover','round','updateNovelCardRating','toFixed','725011QQonFz','averageRating','mt-2\x20text-sm\x20text-red-600\x20dark:text-red-400','createElement','38281zIcTYn','mt-2\x20text-sm\x20text-blue-600\x20dark:text-blue-400','/users/','3920409DtFmIU','26IwTHFb','appendChild','resetRating','<i\x20class=\x22fas\x20fa-star\x20text-yellow-400\x22></i>','\x22]\x20.novel-rating','AIzaSyDcXMoFIYIbeHjo1c_RyoqbBLWmVRstee0','1243ymiuBW','751208GefDMO','loadAllNovelRatings','classList','forEach','ratings','highlightStars','loadUserRating','#starRating\x20i','anonymousUserId','You\x20rated\x20this\x20novel\x20','Updating...','currentRating','handleStarReset','stats','dataset','mt-2\x20text-sm\x20text-green-600\x20dark:text-green-400','far','handleStarHover','<i\x20class=\x22far\x20fa-star\x20text-yellow-400\x22></i>','the-sihina-seyawi-project.firebasestorage.app','6JgWWAT','className','Error\x20loading\x20user\x20rating:','</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','TIMESTAMP','Submit\x20Rating','remove','\x0a\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-lg\x20font-semibold\x20mb-2\x22>Rate\x20this\x20novel</h3>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20mr-4\x22\x20id=\x22starRating\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-star\x20text-2xl\x20text-yellow-400\x20cursor-pointer\x20hover:text-yellow-500\x20transition-colors\x22\x20data-value=\x221\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-star\x20text-2xl\x20text-yellow-400\x20cursor-pointer\x20hover:text-yellow-500\x20transition-colors\x22\x20data-value=\x222\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-star\x20text-2xl\x20text-yellow-400\x20cursor-pointer\x20hover:text-yellow-500\x20transition-colors\x22\x20data-value=\x223\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-star\x20text-2xl\x20text-yellow-400\x20cursor-pointer\x20hover:text-yellow-500\x20transition-colors\x22\x20data-value=\x224\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22far\x20fa-star\x20text-2xl\x20text-yellow-400\x20cursor-pointer\x20hover:text-yellow-500\x20transition-colors\x22\x20data-value=\x225\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22submitRating\x22\x20class=\x22btn-primary\x20text-white\x20px-4\x20py-2\x20rounded-lg\x20disabled:opacity-50\x20disabled:cursor-not-allowed\x22\x20disabled>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Submit\x20Rating\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22ratingMessage\x22\x20class=\x22mt-2\x20text-sm\x22></div>\x0a\x20\x20\x20\x20','6ehrNeT','\x20stars.\x20You\x20can\x20update\x20your\x20rating.','querySelector'];_0x3e9a=function(){return _0x2b8278;};return _0x3e9a();}function _0x437d(_0x5862c1,_0xb6a73){const _0x3e9a29=_0x3e9a();return _0x437d=function(_0x437d1e,_0x52d6ee){_0x437d1e=_0x437d1e-0x186;let _0x545f7e=_0x3e9a29[_0x437d1e];return _0x545f7e;},_0x437d(_0x5862c1,_0xb6a73);}const db=firebase[_0xa44f27(0x197)]();class RatingSystem{constructor(){const _0x206728=_0xa44f27,_0x11ef1f=_0x1c8c5e;this[_0x206728(0x1c9)]=0x0,this[_0x206728(0x18f)]=0x0,this[_0x206728(0x1a4)]=null,this[_0x11ef1f(0x1a2)]=![];}['initRatingUI'](_0x2d27c4){const _0x3b4223=_0x1c8c5e,_0x10acae=_0x1c8c5e,_0x8f1f8d=document[_0x3b4223(0x1b2)]('div');_0x8f1f8d[_0x10acae(0x1d3)]=_0x3b4223(0x1a1),_0x8f1f8d[_0x3b4223(0x1e8)]=_0x10acae(0x1d9),_0x2d27c4[_0x3b4223(0x1b8)](_0x8f1f8d);const _0xe0c8ea=document[_0x10acae(0x18e)](_0x10acae(0x1c5));_0xe0c8ea[_0x10acae(0x1c1)](_0x5c3e6b=>{const _0x1ebf80=_0x3b4223,_0x1f57fd=_0x3b4223;_0x5c3e6b['addEventListener'](_0x1ebf80(0x1ab),this[_0x1f57fd(0x1cf)][_0x1ebf80(0x199)](this)),_0x5c3e6b[_0x1f57fd(0x194)](_0x1f57fd(0x1e4),this[_0x1f57fd(0x1ca)][_0x1ebf80(0x199)](this)),_0x5c3e6b[_0x1ebf80(0x194)](_0x1f57fd(0x1a9),this['handleStarClick'][_0x1ebf80(0x199)](this));}),document[_0x3b4223(0x188)](_0x3b4223(0x19a))[_0x10acae(0x194)](_0x10acae(0x1a9),this['submitRating'][_0x10acae(0x199)](this));}[_0x1c8c5e(0x1eb)](_0x229c60){const _0x4f4d2f=_0xa44f27;this[_0x4f4d2f(0x1a4)]=_0x229c60,this['resetRating'](),this['loadUserRating']();}[_0x1c8c5e(0x1cf)](_0x26035c){const _0x4c0bd5=_0x1c8c5e,_0x1cf69d=_0xa44f27,_0x2394eb=parseInt(_0x26035c[_0x4c0bd5(0x1e9)][_0x1cf69d(0x1cc)]['value']);this['highlightStars'](_0x2394eb);}['handleStarReset'](){const _0x1cad43=_0x1c8c5e,_0xe95d2b=_0x1c8c5e;this[_0x1cad43(0x1c3)](this[_0x1cad43(0x1c9)]);}[_0x1c8c5e(0x18b)](_0x206642){const _0x479a5f=_0xa44f27,_0x23aa98=_0xa44f27,_0x1da46b=parseInt(_0x206642[_0x479a5f(0x1e9)][_0x479a5f(0x1cc)]['value']);this[_0x479a5f(0x1c9)]=_0x1da46b,this['highlightStars'](_0x1da46b);const _0x2019b6=document[_0x479a5f(0x188)](_0x479a5f(0x19a));this['isUpdate']&&this['currentRating']===this[_0x23aa98(0x18f)]?_0x2019b6['disabled']=!![]:(_0x2019b6[_0x479a5f(0x1df)]=![],_0x2019b6[_0x23aa98(0x195)]=this[_0x23aa98(0x1a2)]?_0x23aa98(0x196):_0x479a5f(0x1d7));}[_0xa44f27(0x1c3)](_0x14a048){const _0x2e5170=_0xa44f27,_0x2a41c8=document['querySelectorAll']('#starRating\x20i');_0x2a41c8[_0x2e5170(0x1c1)]((_0xaeffd7,_0x536b1d)=>{const _0x33444a=_0x2e5170,_0x3d240a=_0x2e5170;_0x536b1d<_0x14a048?(_0xaeffd7[_0x33444a(0x1c0)][_0x33444a(0x1d8)]('far'),_0xaeffd7[_0x33444a(0x1c0)][_0x33444a(0x193)](_0x33444a(0x192))):(_0xaeffd7[_0x3d240a(0x1c0)][_0x33444a(0x1d8)](_0x33444a(0x192)),_0xaeffd7['classList'][_0x3d240a(0x193)](_0x3d240a(0x1ce)));});}[_0xa44f27(0x1b9)](){const _0x3f5bd8=_0x1c8c5e,_0x5e8064=_0xa44f27;this['currentRating']=0x0,this['previousRating']=0x0,this['isUpdate']=![],this[_0x3f5bd8(0x1c3)](0x0),document[_0x5e8064(0x188)]('submitRating')['disabled']=!![],document[_0x3f5bd8(0x188)](_0x3f5bd8(0x19a))[_0x5e8064(0x195)]=_0x3f5bd8(0x1d7),document[_0x5e8064(0x188)](_0x5e8064(0x191))[_0x3f5bd8(0x195)]='';}async[_0x1c8c5e(0x1c4)](){const _0x3b9108=_0xa44f27,_0x1c4bc1=_0x1c8c5e;try{const _0x5d582d=this[_0x3b9108(0x1a0)]();if(!_0x5d582d)return;const _0x3fbbe8=db[_0x3b9108(0x1a8)](_0x3b9108(0x190)+this[_0x3b9108(0x1a4)]+_0x1c4bc1(0x1b5)+_0x5d582d),_0xb7c3d8=await _0x3fbbe8['once'](_0x1c4bc1(0x1e1)),_0x1e17a1=_0xb7c3d8[_0x1c4bc1(0x187)]();if(_0x1e17a1){this[_0x1c4bc1(0x1c9)]=_0x1e17a1[_0x3b9108(0x1aa)],this[_0x3b9108(0x18f)]=_0x1e17a1['rating'],this[_0x3b9108(0x1a2)]=!![],this['highlightStars'](_0x1e17a1[_0x3b9108(0x1aa)]);const _0x30233a=document[_0x3b9108(0x188)](_0x1c4bc1(0x19a));_0x30233a[_0x1c4bc1(0x195)]=_0x1c4bc1(0x196),_0x30233a[_0x3b9108(0x1df)]=!![],document[_0x1c4bc1(0x188)](_0x1c4bc1(0x191))[_0x1c4bc1(0x195)]=_0x1c4bc1(0x1c7)+_0x1e17a1[_0x1c4bc1(0x1aa)]+_0x3b9108(0x1db),document[_0x3b9108(0x188)](_0x1c4bc1(0x191))[_0x3b9108(0x1d3)]=_0x1c4bc1(0x1b4);}}catch(_0x62d0df){console[_0x3b9108(0x19b)](_0x3b9108(0x1d4),_0x62d0df);}}async['submitRating'](){const _0x3c83d8=_0x1c8c5e,_0x26809b=_0xa44f27;if(!this[_0x3c83d8(0x1c9)]||!this[_0x26809b(0x1a4)])return;try{const _0x5d6a03=document[_0x3c83d8(0x188)](_0x26809b(0x19a));_0x5d6a03['disabled']=!![],_0x5d6a03[_0x3c83d8(0x195)]=this[_0x3c83d8(0x1a2)]?_0x3c83d8(0x1c8):_0x3c83d8(0x1ec);const _0x31d0c7=this[_0x26809b(0x1a0)]();if(!_0x31d0c7){alert('Please\x20log\x20in\x20to\x20rate\x20novels'),_0x5d6a03[_0x26809b(0x1df)]=![],_0x5d6a03['textContent']=this[_0x3c83d8(0x1a2)]?'Update\x20Rating':'Submit\x20Rating';return;}const _0x43c75c=db[_0x3c83d8(0x1a8)](_0x3c83d8(0x190)+this[_0x3c83d8(0x1a4)]+_0x26809b(0x186)),_0x21d72c=await _0x43c75c[_0x3c83d8(0x1ea)](_0x26809b(0x1e1)),_0x4abe6b=_0x21d72c[_0x3c83d8(0x187)]()||{'totalRatings':0x0,'sumRatings':0x0};this[_0x3c83d8(0x1a2)]?_0x4abe6b[_0x3c83d8(0x19d)]=_0x4abe6b[_0x3c83d8(0x19d)]-this[_0x26809b(0x18f)]+this[_0x3c83d8(0x1c9)]:(_0x4abe6b['totalRatings']++,_0x4abe6b[_0x26809b(0x19d)]+=this[_0x26809b(0x1c9)]);_0x4abe6b[_0x3c83d8(0x1b0)]=_0x4abe6b[_0x3c83d8(0x19d)]/_0x4abe6b[_0x26809b(0x1e0)],await db[_0x3c83d8(0x1a8)](_0x3c83d8(0x190)+this[_0x3c83d8(0x1a4)]+'/users/'+_0x31d0c7)[_0x3c83d8(0x1e5)]({'rating':this[_0x26809b(0x1c9)],'timestamp':firebase[_0x26809b(0x197)]['ServerValue'][_0x26809b(0x1d6)]}),await _0x43c75c[_0x3c83d8(0x1e5)](_0x4abe6b),this[_0x3c83d8(0x18f)]=this['currentRating'],this[_0x26809b(0x1a2)]=!![];const _0x371b36=this[_0x26809b(0x1a2)]?'Rating\x20updated\x20successfully!':_0x26809b(0x1a5);document[_0x26809b(0x188)](_0x26809b(0x191))[_0x3c83d8(0x195)]=_0x371b36,document['getElementById'](_0x3c83d8(0x191))['className']=_0x3c83d8(0x1cd),this['updateNovelCardRating'](this[_0x26809b(0x1a4)],_0x4abe6b['averageRating'],_0x4abe6b[_0x3c83d8(0x1e0)]),_0x5d6a03[_0x3c83d8(0x195)]=_0x26809b(0x196),_0x5d6a03[_0x26809b(0x1df)]=!![];}catch(_0x5a72c6){console[_0x26809b(0x19b)]('Error\x20submitting\x20rating:',_0x5a72c6),document[_0x3c83d8(0x188)]('ratingMessage')[_0x26809b(0x195)]=_0x26809b(0x1e3),document[_0x26809b(0x188)](_0x3c83d8(0x191))[_0x3c83d8(0x1d3)]=_0x26809b(0x1b1);const _0x497263=document[_0x26809b(0x188)]('submitRating');_0x497263[_0x26809b(0x1df)]=![],_0x497263[_0x3c83d8(0x195)]=this['isUpdate']?_0x26809b(0x196):_0x3c83d8(0x1d7);}}[_0x1c8c5e(0x1ad)](_0xda22f,_0x3ffa0a,_0x3fa43f){const _0x4d1931=_0x1c8c5e,_0x36b7e5=_0xa44f27,_0x2f21c8=document[_0x4d1931(0x1dc)]('.novel-card[data-novel-id=\x22'+_0xda22f+_0x36b7e5(0x1bb));_0x2f21c8&&(_0x2f21c8[_0x4d1931(0x1e8)]=this[_0x36b7e5(0x1e7)](_0x3ffa0a,_0x3fa43f));}['generateRatingStars'](_0x53f0d9,_0x1e54a6){const _0x3342d7=_0xa44f27,_0x3f8418=_0xa44f27,_0x401dc2=Math[_0x3342d7(0x1ac)](_0x53f0d9*0x2)/0x2;let _0x4261aa='';for(let _0x3b7b4=0x1;_0x3b7b4<=0x5;_0x3b7b4++){if(_0x3b7b4<=_0x401dc2)_0x4261aa+=_0x3f8418(0x1ba);else _0x3b7b4-0.5===_0x401dc2?_0x4261aa+=_0x3342d7(0x189):_0x4261aa+=_0x3342d7(0x1d0);}return _0x3342d7(0x1e2)+_0x4261aa+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-xs\x20text-gray-500\x20dark:text-gray-400\x22>('+_0x1e54a6+')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22ml-1\x20text-xs\x20text-gray-500\x20dark:text-gray-400\x22>'+_0x53f0d9[_0x3342d7(0x1ae)](0x1)+_0x3f8418(0x1d5);}async[_0x1c8c5e(0x1bf)](){const _0x1a7724=_0xa44f27,_0x42d76b=_0xa44f27;try{const _0x84404f=db[_0x1a7724(0x1a8)](_0x42d76b(0x1c2)),_0x4b6476=await _0x84404f[_0x42d76b(0x1ea)]('value'),_0xfedd7d=_0x4b6476[_0x42d76b(0x187)]()||{};Object[_0x42d76b(0x1dd)](_0xfedd7d)[_0x42d76b(0x1c1)](_0x22d4be=>{const _0x4d6bde=_0x42d76b,_0x529abe=_0x1a7724,_0x5ba977=_0xfedd7d[_0x22d4be][_0x4d6bde(0x1cb)]||{'averageRating':0x0,'totalRatings':0x0};this[_0x4d6bde(0x1ad)](_0x22d4be,_0x5ba977['averageRating'],_0x5ba977[_0x529abe(0x1e0)]);});}catch(_0x3e4e3b){console[_0x1a7724(0x19b)](_0x42d76b(0x18c),_0x3e4e3b);}}[_0x1c8c5e(0x1a0)](){const _0x419046=_0xa44f27,_0xf70b85=_0x1c8c5e;let _0x4d6ec9=localStorage[_0x419046(0x19c)](_0xf70b85(0x1c6));if(!_0x4d6ec9){const _0xff714c=new Uint32Array(0x1);window['crypto']['getRandomValues'](_0xff714c),_0x4d6ec9=_0xf70b85(0x1de)+_0xff714c[0x0][_0x419046(0x18a)](0x24)[_0x419046(0x1a7)](0x2,0xf),localStorage[_0xf70b85(0x1a3)](_0xf70b85(0x1c6),_0x4d6ec9);}return _0x4d6ec9;}}const ratingSystem=new RatingSystem();
